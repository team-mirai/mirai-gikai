---
description: 現在の変更に対してリファクタリングを行う (project)
---

## 現在の状況

- 現在のブランチ: !`git branch --show-current`
- 変更ファイル: !`git diff --name-only HEAD~1 2>/dev/null || git diff --name-only --cached 2>/dev/null || git diff --name-only`

## タスク

以下の手順で現在のブランチの変更内容に対してリファクタリングを行ってください：

1. **変更内容の把握**: `git diff` で変更されたファイルの差分を取得し、変更内容を把握する。必要に応じて関連ファイルも読み込む。

2. **ガイドラインの参照**: 変更対象に応じて以下のガイドラインを参照する。
  - CLAUDE.md

3. **リファクタリング実施**: 以下の観点でリファクタリングを行う。
   - **アーキテクチャ**: ガイドラインに沿ったレイヤー構成・責務分離ができているか
   - **テスト容易性**: テストしやすいモジュール設計になっているか
   - **凝集度**: 凝集度が高いモジュール設計になっているか
   - **疎結合**: 結合度が低いモジュール設計になっているか
   - **可読性**: 可読性が高いコードになっているか
